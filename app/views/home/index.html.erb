<div data-controller="iot">
  <div class="accordion" id="list_devices_accordion">
    <% @devices.each do |device| %>
      <% matching_channels = @channels.select { |channel| channel.device_id == device.id } %>
      <% case device.tipo %>
        <% when 'mini_monit' %>
          <%= render 'iot/mini_monit', device: device, channels: matching_channels %> <br>
        <% when 'diversos' %>
          <%= render 'iot/diversos', device: device, channels: matching_channels %> <br>
      <% end %>
    <% end %>
  </div>
  <div id="propeties" data-client_id="<%= @client.id %>"></div>
</div>

<%= render 'components/change_name_device' %>
<%= render 'components/calibrate_voltage' %>